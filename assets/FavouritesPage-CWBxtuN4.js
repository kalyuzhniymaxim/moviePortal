import{r as i,j as a,L as h,d as m,g as p,c as g}from"./index-DLt2Spjj.js";import{M as j}from"./Movies-BEGz18IE.js";import"./FavoriteButton-DNpzPDEY.js";function x(t,e={}){const[s,f]=i.useState([]),[u,o]=i.useState(!0),[l,c]=i.useState(null);return i.useEffect(()=>{if(!t||t.length===0){f([]),o(!1),c("No values");return}o(!0),c(null),(()=>{const d=t.map(r=>fetch(`https://kinopoiskapiunofficial.tech/api/v2.2/films/${r}`,{...e,method:"GET",headers:{"X-API-KEY":"8db19cf6-074e-4d76-8dcd-4d6ae6582783","Content-Type":"application/json"}}).then(n=>{if(!n.ok)throw new Error(`Failed to fetch data for ${r}`);return n.json()}).catch(n=>{throw new Error(`Failed to fetch data for ${r}: ${n.message}`)}));Promise.all(d).then(r=>{f(r),o(!1)}).catch(r=>{c(r.message),o(!1)})})()},[t]),{data:s,loading:u,error:l}}function E({id:t}){const{data:e,error:s}=x(t);return s||!e?a.jsx(h,{}):a.jsx(j,{films:e})}function $(){var s;const t=m(p),{currentUser:e}=g();return(s=t[e.email])!=null&&s.length?a.jsx(a.Fragment,{children:a.jsx(E,{id:t[e.email]})}):a.jsx("div",{children:"No Favourites "})}export{$ as default};
