import{c as P,r as d,j as e,P as a}from"./index-DLt2Spjj.js";const k="_block_1j4gj_1",L="_buttonLogOut_1j4gj_25",m={block:k,buttonLogOut:L};function S(){const{users:r,currentUser:t,setCurrentUser:p,isLoggedIn:h,handleLogin:l,loginUser:g,handleLogout:x,addUser:f}=P(),[j,o]=d.useState(!1),[i,w]=d.useState(""),s=n=>{const{name:u,value:c}=n.target;u==="confirmPassword"?w(c):p({...t,[u]:c})},C=n=>{n.preventDefault(),l(t)},b=n=>{if(n.preventDefault(),r[t.email]){alert("Пользователь с таким email уже существует.");return}if(t.password.length<5){alert("Пароль должен содержать минимум 5 символов.");return}if(t.password!==i){alert("Пароли не совпадают.");return}f(t),l(t),o(!1)},v=()=>{o(!0)},y=()=>{o(!1)};return e.jsx(e.Fragment,{children:h?e.jsx(a,{text:"Выйти",handle:x}):e.jsx(e.Fragment,{children:j?e.jsxs("form",{onSubmit:b,className:m.block,children:[e.jsx("input",{type:"email",name:"email",value:t.email||"",required:!0,placeholder:"Email",onChange:s}),e.jsx("input",{type:"password",name:"password",value:t.password||"",required:!0,placeholder:"Password",onChange:s}),e.jsx("input",{type:"password",name:"confirmPassword",value:i||"",required:!0,placeholder:"Confirm Password",onChange:s}),e.jsx(a,{text:"Регистрация"}),e.jsx(a,{text:"Назад",handle:y})]}):e.jsxs("form",{onSubmit:C,className:m.block,children:[e.jsx("input",{type:"email",name:"email",value:t.email||"",required:!0,placeholder:"Email",onChange:s}),e.jsx("input",{type:"password",name:"password",value:t.password||"",required:!0,placeholder:"Password",onChange:s}),e.jsx(a,{text:"Войти",handle:g}),e.jsx(a,{text:"Создать аккаунт",handle:v})]})})})}function q(){const r={display:"flex",flexDirection:"column",alignItems:"center",paddingTop:"50px"};return e.jsx("div",{style:r,children:e.jsx(S,{})})}export{q as default};
